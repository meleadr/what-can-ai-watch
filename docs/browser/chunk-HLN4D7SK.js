import{a as A,b as N}from"./chunk-M3GGW73Z.js";import{a as O}from"./chunk-JBFC2EKY.js";import{c as j,d as F}from"./chunk-XHEIPJ5G.js";import"./chunk-NPMW5EZD.js";import{a as T}from"./chunk-P6VQ3WFT.js";import"./chunk-2LPVXRX5.js";import"./chunk-TQPKG3M6.js";import{E as P,F as $,M as V,N as z,p as M,q as B}from"./chunk-N6GDSHB3.js";import{Aa as g,D as w,Db as k,Ea as l,Fa as S,Ib as u,Jb as x,Kb as D,Va as m,Xa as s,Ya as I,aa as E,ab as c,eb as t,fb as n,gb as _,i as b,ob as f,q as y,wb as a,xb as d,yb as h}from"./chunk-WVRWLBOJ.js";function L(e,o){e&1&&(t(0,"a",6),_(1,"p-button",8),n()),e&2&&s("href","https://www.youtube.com/watch?v="+o.key,g)}function U(e,o){if(e&1&&(t(0,"div",12)(1,"div",13)(2,"div",14),_(3,"img",15),n()(),t(4,"p",16),a(5),n(),t(6,"p",17),a(7),n(),t(8,"p",18),a(9),n()()),e&2){let p=o.$implicit;l(3),s("width","100")("src",p.profile_path?"https://media.themoviedb.org/t/p/w276_and_h350_face"+p.profile_path:"../../../assets/images/userNotFound.svg",g)("alt",p.name),l(2),h(" ",p.name," "),l(2),h(" ",p.character," "),l(2),h(" ",p.known_for_department," ")}}function R(e,o){if(e&1&&(t(0,"h2",9),a(1,"Acteurs"),n(),t(2,"p-carousel",10),m(3,U,10,6,"ng-template",11),n()),e&2){let p=f(),r=f(2);l(2),s("value",p)("numVisible",5)("numScroll",5)("responsiveOptions",r.responsiveOptions)}}function q(e,o){e&1&&(t(0,"h2",9),a(1," Aucune distribution des r\xF4les n'est pr\xE9sente pour ce film "),n())}function G(e,o){e&1&&m(0,R,4,4)(1,q,2,0),e&2&&c(0,o.length>0?0:1)}function H(e,o){e&1&&(t(0,"div",19)(1,"p"),a(2,"Loading..."),n()())}function J(e,o){if(e&1&&(t(0,"div",0),_(1,"div",1),t(2,"div",2),_(3,"p-image",3),n(),t(4,"div",4)(5,"h1",5),a(6),n(),m(7,L,2,1,"a",6),u(8,"async"),t(9,"h3",7),a(10,"Date de sortie"),n(),t(11,"p"),a(12),u(13,"date"),n(),t(14,"h3",7),a(15,"Notes"),n(),t(16,"p"),a(17),n(),t(18,"h3",7),a(19,"Nombres de votes"),n(),t(20,"p"),a(21),n(),t(22,"h3",7),a(23,"Synopsis"),n(),t(24,"p"),a(25),n()()(),m(26,G,2,1),u(27,"async"),m(28,H,3,0)),e&2){let p,r,i=o,v=f();I("background-image","url(https://media.themoviedb.org/t/p/w1920_and_h800_multi_faces"+i.backdrop_path),l(3),s("src","https://media.themoviedb.org/t/p/w600_and_h900_bestv2"+i.poster_path)("alt",i.name)("width","350")("preview",!0),l(3),d(i.name),l(),c(7,(p=x(8,13,v.video$))?7:-1,p),l(5),d(D(13,15,i.first_air_date,"dd-MM-yyyy")),l(5),d(i.vote_average),l(4),d(i.vote_count),l(4),d(i.overview),l(),c(26,(r=x(27,18,v.cast$))?26:28,r)}}function K(e,o){e&1&&(t(0,"div",19)(1,"p"),a(2,"Loading..."),n()())}var de=(()=>{let o=class o{constructor(r,i){this.manager=r,this.service=i,this.cast$=new b,this.video$=new b}ngOnInit(){this.manager.selected$.pipe().subscribe(r=>{this.getCastById(r.id),this.getVideoById(r.id)}),this.responsiveOptions=[{breakpoint:"1199px",numVisible:1,numScroll:1},{breakpoint:"991px",numVisible:2,numScroll:1},{breakpoint:"767px",numVisible:1,numScroll:1}]}getCastById(r){this.service.fetchCastById(r).pipe(y(i=>i.slice(0,10))).subscribe(i=>{this.cast$.next(i)})}getVideoById(r){this.service.fetchVideoById(r).pipe(w(1)).subscribe(i=>{this.video$.next(i)})}};o.\u0275fac=function(i){return new(i||o)(S(O),S(T))},o.\u0275cmp=E({type:o,selectors:[["app-series-details"]],standalone:!0,features:[k],decls:3,vars:3,consts:[[1,"flex","flex-wrap","align-items-center","justify-content-center","p-5","bg-cover","bg-center","bg-no-repeat","backdrop"],[1,"overlay"],[1,"z-3"],[1,"mr-8",3,"src","alt","width","preview"],[1,"w-6","pl-3"],[1,"text-primary","font-bold"],["target","_blank",3,"href"],[1,"font-bold"],["label","Regarder la bande annonce",1,"mt-3"],[1,"text-primary","text-center","font-bold"],[3,"value","numVisible","numScroll","responsiveOptions"],["pTemplate","item"],[1,"border-1","surface-border","border-round","m-2","p-3"],[1,"mb-3"],[1,"relative","mx-auto","text-center"],[1,"border-round",3,"width","src","alt"],[1,"mb-3","font-medium"],[1,"text-sm"],[1,"text-xs"],[1,"loading"]],template:function(i,v){if(i&1&&(m(0,J,29,20),u(1,"async"),m(2,K,3,0)),i&2){let C;c(0,(C=x(1,1,v.manager.selected$))?0:2,C)}},dependencies:[M,z,V,P,N,B,A,F,j,$],styles:['.backdrop[_ngcontent-%COMP%]{position:relative;overflow:hidden}.backdrop[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0009;z-index:1}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0009}.backdrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;z-index:2}'],changeDetection:0});let e=o;return e})();export{de as SeriesDetailsComponent};
